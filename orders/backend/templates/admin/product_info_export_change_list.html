{% extends "admin/change_list.html" %}

{% block object-tools %}
    <div>
        <a href="{% url 'admin:export_products' %}" class="addlink" style="background: #28a745; padding: 8px 15px; border-radius: 4px; color: white; text-decoration: none; font-weight: bold;">
            ðŸ“¥ Export Products
        </a>
    </div>
    {{ block.super }}
{% endblock %}

{% block content %}
<div class="module filtered">
    <h2>Export Products</h2>
    <form method="get" action="{% url 'admin:export_products' %}" style="margin-bottom: 20px;">
        <div style="display: flex; gap: 10px; align-items: center;">
            <label for="shop_id">Shop:</label>
            <select name="shop_id" id="shop_id" style="padding: 5px; border: 1px solid #ccc; border-radius: 4px;">
                <option value="">All Shops</option>
                {% for shop in cl.list_filter.0.queryset %}
                    <option value="{{ shop.id }}">{{ shop.name }}</option>
                {% endfor %}
            </select>
            
            <label for="category_id">Category:</label>
            <select name="category_id" id="category_id" style="padding: 5px; border: 1px solid #ccc; border-radius: 4px;">
                <option value="">All Categories</option>
                {% for category in cl.list_filter.1.queryset %}
                    <option value="{{ category.id }}">{{ category.name }}</option>
                {% endfor %}
            </select>
            
            <label for="search">Search:</label>
            <input type="text" name="search" id="search" placeholder="Search products..." style="padding: 5px; border: 1px solid #ccc; border-radius: 4px;">
            
            <label for="format">Format:</label>
            <select name="format" id="format" style="padding: 5px; border: 1px solid #ccc; border-radius: 4px;">
                <option value="yaml">YAML</option>
                <option value="json">JSON</option>
            </select>
            
            <button type="submit" class="button" style="background: #007bff; color: white; padding: 5px 10px; border: none; border-radius: 4px;">
                Export
            </button>
        </div>
    </form>
</div>

{{ block.super }}
{% endblock %}